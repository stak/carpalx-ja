
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose
.dtd">
<html>
<head>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="css/style2.css" type="text/css">
<meta name="keywords" content="keyboard, layout, typing, effort, qwerty, dvorak, colemak, arensito, capewell, best layout, worst layout, custom layout, simulated annealing, monte carlo, simulation">
<title>Carpalx - keyboard layout optimizer</title>

<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,800|PT+Serif:400,400italic,700|Inconsolata:400,700">

</head>

<body>

<div id="body">

<div id="page">

<div id="masthead">
<a href="index.html"><img src="images/carpalx-logo-v3-crop.png" alt="carpalx - keyboard layout optimizer - save your carpals"></a>
</div>


<div id="leftpane">

<div id="slogan">



<p>Carpalx optimizes keyboard layouts to create ones that require less effort and significantly reduced carpal strain!

<p><a href="index.html@full_optimization.html"><img src="images/carpalx-ourbest.png"></a>
<p><a href="index.html@worst_layout.html"><img src="images/carpalx-ourworst.png"></a>

<p><img src="images/download.png" style="float:left; padding: 0 0.25em 0 0;"><a href="index.html@download.html">Download keyboard layouts</a>, or <a href="index.html@requirements.html">run the code yourself</a> to explore new layouts.

<p><img src="images/x.png" style="float:left; padding: 0 0.25em 0 0;"><b>X11 layouts are available!</b> Patches to include Carpalx layouts in <a href="https://www.freedesktop.org/wiki/Software/XKeyboardConfig/">xkeyboard-config</a> and <a href="http://kbd-project.org/">kbd</a> have been submitted by Perry Thompson. Meanwhile, many thanks to Sven Hallberg for providing <a href="http://www.khjk.org/log/2011/jan/carpalx.html">X11 configuration for Carpalx layouts</a>. Richard Gomes contributed an <a href="http://mkweb.bcgsc.ca/carpalx/distribution/carpalx-x11.zip">archive of these files</a> for KDE/Gnome users. 

<p><img src="images/happy.png" style="float:left; padding: 0 0.25em 0 0;">Love your coworkers? Switch them to <a href="index.html@partial_optimization.html">QWKRFY</a> layout or a fully optimized <a href="index.html@full_optimization.html">QGMLWY</a> layout.

<p><img src="images/sad.png" style="float:left; padding: 0 0.25em 0 0;">Hate your coworkers? Switch them to  <a href="index.html@worst_layout.html">TNWMLC</a> layout. It's the only keyboard layout that has its <a href="http://fashionnotebook.wordpress.com/2011/01/04/julia-valle-tnwmlc/">own fashion line</a>.

<p>Have ideas? <a href="mailto:martin.krzywinski@gmail.com">Tell me</a>.

</div>

<div id="menu">


<h1>carpalx</h1>
<a href="index.html@home.html">home</a>
<a href="index.html@about.html">about</a>
<a class=current href="index.html@typing_effort.html">typing effort</a>
<a href="index.html@model_parameters.html">model parameters</a>
<a href="index.html@keyboard_evaluation.html">keyboard evaluation</a>
<a href="index.html@keyboard_layouts.html">keyboard layouts</a>
<h1>case studies</h1>
<a href="index.html@qwerty.html">QWERTY</a>
<a href="index.html@dvorak.html">Dvorak</a>
<a href="index.html@colemak.html">Colemak</a>
<a href="index.html@popular_alternatives.html">Popular alternatives</a>
<h1>optimization</h1>
<a href="index.html@partial_optimization.html">Partial optimization</a>
<a href="index.html@full_optimization.html">Full optimization</a>
<a href="index.html@worst_layout.html">Worst Layout</a>
<a href="index.html@component_optimization.html">Component optimization</a>
<a href="index.html@improving_colemak.html">Improving colemak</a>
<a href="index.html@de_correspondent.html">De Correspondent</a>
<h1>tutorials</h1>
<a href="index.html@simulated_annealing.html">simulated annealing</a>
<a href="index.html@carpalx_installation.html">carpalx installation</a>
<a href="index.html@keyboard_statistics.html">keyboard statistics</a>
<a href="index.html@word_statistics.html">word statistics</a>
<a href="index.html@basic_optimization.html">basic optimization</a>
<a href="index.html@concurrent_optimization.html">concurrent optimization</a>
<a href="index.html@keyboard_images.html">keyboard images</a>
<a href="index.html@interpreting_optimization.html">interpreting optimization</a>
<h1>documentation</h1>
<a href="index.html@readme.html">README</a>
<a href="index.html@changes.html">CHANGES</a>
<a href="index.html@man_page.html">man page</a>
<h1>download</h1>
<a href="index.html@requirements.html">requirements</a>
<a href="index.html@download.html">download</a>
<h1>author</h1>
<a href="index.html@contact.html">contact</a>
<a href="index.html@other_projects.html">other projects</a>




</div>


<div id="footer">
Carpalx is licensed under GPL. It is free, freely distributable and yours to modify under the auspices of the GPL license.


</div>
</div>

<div id="rightpane">




<div class=update>
<p>16/aug/16 &mdash; <a href="http://link.springer.com/chapter/10.1007/978-3-319-41694-6_41">Ergonomic Keyboard Layout Designed for the Filipino Language</a> at <a href="http://www.ahfe2016.org/program1.html">AHFE2016</a> derives layout for Filipino language using Carpalx 
<p>18/apr/16 &mdash; Carpalx layouts soon to appear in freedesktop (package xkeyboard-config) and kbd. Thanks to Perry Thompson.
<p>9/sep/14 &mdash; A new layout&mdash;<a href="index.html@de_correspondent.html">De Correspondent</a>&mdash;for the Dutch language in collaboration with <a href="https://decorrespondent.nl/en">De Correspondent</a>.
<p>16/may/14 &mdash; Added <a href="index.html@full_optimization.html">evaluation</a> of the <a href="http://www.normanlayout.info">Norman layout</a>. This layout modifies 14/26 keys and has statistics similar to Colemak. <a href="index.html@keyboard_layouts.html">Detailed statistics</a> are available.
<p>12/feb/14 &mdash; Added <a href="index.html@popular_alternatives.html">evaluation</a> of the <a href="http://www.cnet.com.au/from-qwerty-to-abkey-240003768.htm">abKey layout</a>. Its alphabetic layout makes no attempt at ergonomics. <a href="index.html@keyboard_layouts.html">Detailed statistics</a> are available.
</div>


<h1>
Typing Effort Model
</h1>






<div id="toc">
<p><b>ON THIS PAGE</b></p>
<ul>

<a href="index.html@typing_effort.html#developing_a_model"><li>developing a model of typing effort</li></a>

<a href="index.html@typing_effort.html#successful_typing_model_characteristics"><li>characteristics of a successful model</li></a>

<a href="index.html@typing_effort.html#carpalx_typing_model"><li>carpalx typing model</li></a>

<a href="index.html@typing_effort.html#triads"><li>triads: 3-key effort</li></a>

<a href="index.html@typing_effort.html#typing_stroke_path"><li>evaluating the stroke path</li></a>

<a href="index.html@typing_effort.html#typing_model_families"><li>families of typing models</li></a>

<a href="index.html@typing_effort.html#typing_training_texts"><li>training texts</li></a>


</ul>
</div>






<a name="developing_a_model"></a><h2>Developing a Model of Typing Effort</h2>

<p>The result of any keyboard layout search is dependent on (a) the training text, (b) determination of layout suitability and (c) the search algorithm. The choice of algorithm should not change the ideal layout, but only the likelihood of finding it. In practise, a poorly devised search strategy may seriously impact the likelihood of discovering a better layout. The choice of the training text will impact the generalizability of the layout - if the text is representative of the typist's daily tasks (representative in terms of key stroke combinations), then an optimized layout will be helpful in typing future texts of similar nature.

<p>The fact is, the choice of training text and search algorithm is less subjective than the model for typing effort. For example, unless you are concerned with typing body copy specific to a field with domain-specific terms (e.g. medical texts), a year's worth of New York Times would arguably be a good corpus. If your search algorithm is appropriate, you will find a global minimum and you will have a layout on which typing a year's worth of NYT involves minimum effort - but only as far as quantified by your typing effort model.



<a name="successful_typing_model_characteristics"></a><h2>Characteristics of a successful model</h2>

<p>If you explore keyboard layout projects, such as <a href="http://www.geocities.com/smozoma/projects/keyboard/layout_capewell.htm">Capewell</a> or <a href="http://www.colemak.com"><a href="http://www.pvv.org/%7Ehakonhal/keyboard/">Arensito</a>, you'll find that each approach is different and uses a combination of heuristic and algorithmic contributions to determining the goodness of a layout. There are certain properties of a good layout, however, that are widely agreed upon

<ul>
<li>limited use of weak fingers, like pinky and ring finger
<li>limited use of bottom row
<li>increased use of home row
<li>limited finger travel distance
<li>limited same-finger typing (e.g. uhm)
<li>balanced hand-use vs right-hand priority (see below)
<li>alternating hand-use vs rolling (see below)
</ul>

<p>The question of balanced hand use is debated. Alternate-hand typing may not be as efficient as "rolling finger" typing, in which two successive strokes are typed by the same hand. Most typists find it faster and more comfortable to type "iu" than "it". The former stroke combination uses a rolling finger movement in which your wrist lightly rolls from the outside in. Generally, outward rolling (e.g. "ui", or even worse "io" or "op") is undesirable. 

<p>Some also argue for adjusting the layout to favour the right hand. The argument for this is that most individuals are right-handed and therefore their right hand is "stronger". My own experience does not reflect this, though. Being right handed and having typed for 20 years, I find my left and right hands ambidexterous when it comes to typing (but not much else).



<a name="carpalx_typing_model"></a><h2>Carpalx typing model</h2>

<p>Carpalx uses a typing effort model which describes the perceived effort of typing. Given a training text, each layout has an associated typing effort and during layout optimization, this layout is adjusted until a global minimum in effort is reached. I've attempted to make the model flexible to avoid heuristic penalties. The model is highly parametrized, however, and <i>you</i> decide what is important to your layout and these parameters make the model highly subjective. The parameters can be adjusted to try to increase positive layout characteristics (see list above) and minimize aspects which make typing difficult. The task of solving the keyboard layout problem (if the problem is universally solvable - which I doubt, due to its subjective nature) can be reduced to the task of finding the ideal effort model for <i>you</i>.

<div class=technical>
I want to make the distinction between the ideal effort model <i>for you</i> and the ideal effort model <i>for everyone</i>. The chances of the existence of the former is much better, I think. Everyone has different typing preferences and comfort levels. Even if you eliminate typists with special needs or habits, I believe that a model which suits everyone must by necessity be very simple and be limited to isolating layout features that are desired/disliked by a large majority. For example, it can be argued that most prefer not to use their pinky or limit successive same-finger strokes, there's less consensus about the balanced hand use or desirability of individual key positions.
</div>

<p>The carpalx typing effort model is based on triads, which are three character substrings formed from the training text. A triad starts at each letter position. Thus, triads overlap, though this is configurable. The effort model takes into account contributions of the following characteristics 

<ul>
<li>finger travel distance
<li>hand, finger and row penalties
<li>stroke path
</ul>

<p>The effort associated with typing has two components: effort to hit a key (independently of preceeding and successive strokes) and effort to hit a group of keys. Independent effort is based on finger distance and includes hand/finger/row penalties associated with that key. The penalties provide a means to tune the parameters to reflect your typing abilities and preferences. The effort of hitting a group of keys is measured based on stroke path which assigns desirability to certain patterns of finger movement. More about stroke path below.



<a name="triads"></a><h2>Triads: 3-key Effort</h2>

<p>Introduced above, the input document is divided into triads, which are three-character substrings. The triad overlap is an adjustable parameter but generally is set to 2 to avoid starting position bias. Space characters are removed from the text up-front and do not impact the formation of triads, since the space bar is not considered relocatable and enjoys dedicated service by the thumbs. I chose to model effort using triads to help evaluate single-key and multi-key effort contributions.

<p>For example, consider the text "typing is hard". If triad overlap is set to 2 (default), after the removal of spaces, the triads are

<pre>
  TEXT:    typingishard
  TRIADS:  typ
            ypi
               ....
                   har
                    ard
</pre>

<p>The typing effort for the text is the normalized total of triad typing efforts

<img class=eq src="images/effort-eq01.png">

where <span class=math>N</span> is the total number of triads, <span class=math>e<sub>i</sub></span> is the effort of typing triad <span class=math>i</span>. The number of unique triads is limited by the variety of characters in the input text and it is efficient to index all unique triads, each having <span class=math>n<sub>i</sub></span> instances. The validity of the model is based on the assumption that the desirability of a keyboard layout can be determined by considering the effort of individual triads. The use of triads limits the interaction effect of near-neighbouring keys on the final layout. By choosing to work with three-key combinations, I am limiting the degree to which long-range effects affect the final layout. 

<div class=technical>
Long-range interaction of keys can be illustrated by considering typing the two strings "zqzqaa zq" and "zqazqa zq". In the first text, the pinky gets a double break when two a's are typed before the final "zq". Presumably, after hammering "zqzq" the pinky can be considered spent. In the second example, the home-row rest for the pinky is interspersed with the difficult "zq" doublet. Thus, when it comes time to type the final "zq" the pinky is still tired. A more sophisticated model could include the notion of accumulated tiredness of a finger, which decays based on a set recovery rate. Thus, if a pinky has recently been called to expend a lot of effort by typing z's and q's, its subsequent use would be penalized until the finger has had a chance to rest.
</div>

<p>The effort of typing a triad, <span class=math>e<sub>i</sub></span>, is given by

<img class=eq src="images/effort-eq02.png">

where <span class=math>b<sub>i</sub></span>, <span class=math>p<sub>i</sub></span> and <span class=math>s<sub>i</sub></span> are the base, penalty and stroke path effort components of the <span class=math>i</span>th triad. In turn, the base and penalty components are given by 

<img class=eq src="images/effort-eq02b.png">

<p>Notice that the baseline and penalty efforts are defined symmetrically, with <span class=math>b<sub>ij</sub></span> and <span class=math>p<sub>ij</sub></span> being the base and penalty factors of the <span class=math>j</span>th key in the triad. The stroke path term <span class=math>s<sub>i</sub></span> is discussed further below.

<p>The role of the <span class=math>k<sub>b</sub></span>, <span class=math>k<sub>p</sub></span> and <span class=math>k<sub>s</sub></span> factors is to weight the indidividual effort components. For example, by setting <span class=math>k<sub>s</sub>=0</span>, the triad effort is no longer influenced by the stroke path. 

<p>Within each triad, the efforts of each key are combined using the <span class=math>k<sub>1</sub></span>, <span class=math>k<sub>2</sub></span> and <span class=math>k<sub>3</sub></span> parameters. For example, if <span class=math>k<sub>2</sub></span>=<span class=math>k<sub>3</sub></span>=0, then the effort of each triad is solely based on the effort of the first key in the triad. With this setting, the typing model contains no interaction terms between keys. However, as soon as <span class=math>k<sub>2</sub></span>&gt;0 and/or <span class=math>k<sub>3</sub></span>&gt;0, efforts of the second and/or third keys in the triad add to the total triad effort in proportion to the effort of the previous key(s) &mdash; in effect, the triad effort is compounded geometrically over the first two or three keys of the triad. The effect of this is that triads such as "zza" have a larger effort than the individual effort of their single-character components (the purpose of this is to model tiredness associated with typing successivel high-effort keys).

<p>All weight factors <span class=math>k<sub>i</sub></span> should be non-negative, since negative typing effort has no interpretation within the model.

<div class=technical>
<p>No negative effort?

<p>Although hitting any key is associated with a finite amount of typing effort (some keys may be effortless for certain parameter combinations), the concept of negative effort is an interesting one. For example, the notion of recuperation could be considered by extending the correlation length of effort beyond the length of the triad. For example, after a long run of easy-to-type triads, one might consider that a certain amount of "finger rest" has been accumulated, which goes to offset the effort of subsequent, harder-to-type triads.
</div>

<a name="baseline"></a>
<h3>base effort is finger travel distance</h3>

<p>The base effort for a key is defined solely by the finger travel distance for that key. This distance corresponds to the physical distance between keys, as measured on my BenQ x120 keyboard. This value is shown on each key in the figure below.

<img class=eq src="images/keyboard-cost.png">

<p>The role of the base effort is to measure the total distance traveled by fingers during typing. Layouts that keep this value low are those that place frequently used keys on home row.

<p>Instead of using a subjective measure of key effort, I decided to objectively define the effort by a combination of the physical keyboard distance and finger/row penalties (see below). This combination naturally results in a higher effort for z than q, because the bottom row carries a larger penalty than the top row (for both keys the base effort given by the finger travel distance is the same, as is the finger penalty)..

<h3>penalty component is hand, row and finger cost</h3>

<p>The penalty component for a key is associated with the hand, row and finger for that key. Each hand, row and finger have unique penalties that reflect the degree to which using them is difficult. The penalty for key <span class=math>j</span of triad <span class=math>i</span> is given by

<img class=eq src="images/effort-eq02c.png">

<p>where the <span class=math>w</span> terms are weights and the <span class=math>P</span> terms are the penalties associated with the hand, row and finger for key <span class=math>j</span>. Typically, <span class=math>w<sub>0</sub></span>=0 (no default penalty), and <span class=math>P<sub>hand</sub>=0</span> (left and right hands are not individually penalized).

<p>The role of the penalty is to model increased effort of the use of weak fingers (e.g. pinky) or hard-to-reach rows (e.g. bottom row). The penalty term can also differentially penalize one of the hands (e.g. associate a penalty with the left hand to favour the use of the right hand).

<p>Layouts that have a low penalty are those that limit the use of the pinky, ring finger and the bottom row (note that this statement applies to a model parameter set that associates penalties with the use of these fingers and row).

<h3>personalized penalties</h3>

<p>You can personalize the key stroke effort by adjusting hand, row and finger penalties to model use of any injured fingers or hands. 

<h3>effortless keys and triads</h3>

<p>Now a note about keys with zero-effort. Since a key's sum of base and penalty components, <span class=math>b<sub>ij</sub></span> and <span class=math>p<sub>ij</sub></span>, may be zero (such as the key "f"), if the key is the first in the triad, the triad has zero effort (excluding stroke path). If this is undesirable, set the baseline penalty, <span class=math>w<sub>0</sub></span>, to a positive value as described above.

<p>For example, in the word coffee, which has triads cof/off/ffe/fee, the triads which start with f, a key with zero effort, will not count total effort of typing coffee if no stroke path contribution exists (<span class=math>k<sub>4</sub> = 0</span>). However, all triads count towards the total number of triads which is used to normalize the total effort sum. In the model, such effortless triads are like little typing breaks. This behaviour can be counteracted by ensuring that all <span class=math>e<sub>i</sub>&gt;0</span> by (a) setting <span class=math>b<sub>ij</sub>&gt;0</span> or (b) setting <span class=math>w<sub>0</sub>&gt;0</span>.



<a name="typing_stroke_path"></a><h2>Evaluating the Stroke Path</h2>

<p>Not all triads, even those with equivalent baseline effort, are as easy to type. Consider "fjo" and "jfy". The former uses the ring finger which is penalized and the latter requires that the strong index finger reach for the y, a distant key. Depending on the model parameters, these triads may have the same effort. However, fjo is easier to type then jfy, which uses the same finger twice. Therefore, it's appropriate to add to the effort model a cost function which augments the typing cost with additional weighting of uncomfortable key combinations.

<p>The effort associated with the stroke path is parameterized by the following indexes

<ul>
<li>hand-alternation (<span class=math>p<sub>h</sub></span>)
<li>row-alternation (<span class=math>p<sub>r</sub></span>)
<li>finger-alternation (<span class=math>p<sub>f</sub></span>)
</ul>

<p>Each of these indexes (<span class=math>p<sub>h</sub></span>, <span class=math>p<sub>r</sub></span>, <span class=math>p<sub>f</sub></span>) may take the following values

<table cellspacing=0 cellpadding=0>
<tr>
<th>value</td>
<th>hand, <span class=math>p<sub>h</sub></span></td>
<th>row, <span class=math>p<sub>r</sub></span></td>
<th>finger, <span class=math>p<sub>f</sub></span></td>
</tr>
<tr>
<td>0</td>
<td>both used, not alternating<br>eem ope</td>
<td>same<br>ert als</td>
<td>all different, monotonic progression<br>asd pua</td>
</tr>
<tr>
<td>1</td>
<td>alternating<br>aja sot</td>
<td>downward progression, with repetition<br>ern kam</td>
<td>some different, key repeat, monotonic progression<br>app err</td>
</tr>
<tr>
<td>2</td>
<td>same<br>ase mon</td>
<td>upward progression, with repetition<br>ade nal</td>
<td>rolling<br>bih fad</td>
</tr>
<tr>
<td>3</td>
<td>-</td>
<td>some different, not monotonic, max row change 1<br>jab oar</td>
<td>all different, not monotonic<br>yak nep</td>
</tr>
<tr>
<td>4</td>
<td>-</td>
<td>downward progression<br>eln pax</td>
<td>some different, not monotonic progression<br>kri maj</td>
</tr>
<tr>
<td>5</td>
<td>-</td>
<td>some different, not monotonic, max row change downward >1<br>hen kib</td>
<td>same, key repeat<br>cee loo</td>
</tr>
<tr>
<td>6</td>
<td>-</td>
<td>upward progression<br>zaw nap</td>
<td>some different, no key repeat, monotonic progression<br>abr bde</td>
</tr>
<tr>
<td>7</td>
<td>-</td>
<td>some different, not monotonic, max row change upward >1<br>abe axe</td>
<td>same, no key repeat<br>tfb dec</td>
</tr>
</table>

<p>Any given triad has a unique stroke path index triplet (<span class=math>p<sub>h</sub></span>, <span class=math>p<sub>r</sub></span>, <span class=math>p<sub>f</sub></span>). This triplet is used to calculate the path effort for the triad. Note that some triplet values do not describe a valid path (e.g. 0*4 = alternating hand, same finger). The path effort for each triad is calculated as a weighted sum of the index values. This linear composition of triplet elements is appropriate because more difficult typing scenarios are parametrized by larger index values (e.g. <span class=math>p<sub>f</sub></span> = 0 is more desirable than <span class=math>p<sub>f</sub></span> = 7).

<img class=eq src="images/effort-eq04.png">

<p>The parameters <span class=math>f<sub>hand,row,finger</sub></span> assign a weight to each triplet element value. For example, consider the triad "abz". This triad is associated with the path triplet (<span class=math>p<sub>h</sub></span>, <span class=math>p<sub>r</sub></span>, <span class=math>p<sub>f</sub></span>) = (2,1,4). Consider a stroke model that uses the following stroke path weights, (<span class=math>f<sub>hand</sub></span> , <span class=math>f<sub>row</sub></span> , <span class=math>f<sub>finger</sub></span>)=(1,2,3).

<img class=eq src="images/effort-eq05.png">

<p>In this example, the contributions of effort towards the stroke path from hand, row and finger terms is unbalanced: the finger term contributes +12 whereas the hand and row contribute +2 each. Using the English corpus, the weights (<span class=math>f<sub>hand</sub></span> , <span class=math>f<sub>row</sub></span> , <span class=math>f<sub>finger</sub></span>) = (1,0.3,0.3) yield approximately a 1:1:1 ratio of hand, row and finger contributions to the stroke path over the entire corpus. 

<p>Below are the path efforts for weights (1,0.3,0.3).


<table>

<tr>


<td valign=top>

<table cellpadding=0 cellspacing=0 style="font-size:100%;">
<tr> 
<th colspan=3><span class=math>p<sub>h</sub></span> = 0</td>
</tr>
<tr>
<th>triplet</td>
<th>path effort</th>
<th>example</th>
</tr>


<tr>
<td>0 0 0</td>
<td>0</td>
<td>adh adj adk adl afh </td>

</tr>


<tr>
<td>0 0 1</td>
<td>0.3</td>
<td>aah aaj aak aal ahh </td>

</tr>


<tr>
<td>0 1 0</td>
<td>0.3</td>
<td>abm abn acm acn adm </td>

</tr>


<tr>
<td>0 1 1</td>
<td>0.6</td>
<td>aam aan amm ann ddm </td>

</tr>


<tr>
<td>0 0 2</td>
<td>0.6</td>
<td>akh akj alh alj alk </td>

</tr>


<tr>
<td>0 1 2</td>
<td>0.9</td>
<td>akm akn alm aln dkm </td>

</tr>


<tr>
<td>0 2 0</td>
<td>0.6</td>
<td>adi ado adp adu ady </td>

</tr>


<tr>
<td>0 2 1</td>
<td>0.9</td>
<td>aai aao aap aau aay </td>

</tr>


<tr>
<td>0 2 2</td>
<td>1.2</td>
<td>aiu aiy aku aky ali </td>

</tr>


<tr>
<td>0 0 3</td>
<td>0.9</td>
<td>bcm bcn bxm bxn bzm </td>

</tr>


<tr>
<td>0 1 3</td>
<td>1.2</td>
<td>dam dan dsm dsn dxm </td>

</tr>


<tr>
<td>0 2 3</td>
<td>1.5</td>
<td>bah baj bak bal bch </td>

</tr>


<tr>
<td>0 3 0</td>
<td>0.9</td>
<td>abh abj abk abl ach </td>

</tr>


<tr>
<td>0 3 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 3 2</td>
<td>1.5</td>
<td>aih aij aoh aoj aok </td>

</tr>


<tr>
<td>0 3 3</td>
<td>1.8</td>
<td>bam ban bdm bdn bsm </td>

</tr>


<tr>
<td>0 0 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 1 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 2 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 3 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 4 0</td>
<td>1.2</td>
<td>efm efn egm egn idx </td>

</tr>


<tr>
<td>0 4 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 4 2</td>
<td>1.8</td>
<td>ekm ekn elm eln iab </td>

</tr>


<tr>
<td>0 4 3</td>
<td>2.1</td>
<td>eam ean esm esn ilb </td>

</tr>


<tr>
<td>0 4 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 0 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 1 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 2 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 3 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 4 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 5 0</td>
<td>1.5</td>
<td>abi abo abp abu aby </td>

</tr>


<tr>
<td>0 5 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 5 2</td>
<td>2.1</td>
<td>bih bij boh boj bok </td>

</tr>


<tr>
<td>0 5 3</td>
<td>2.4</td>
<td>beh bej bek bel bqh </td>

</tr>


<tr>
<td>0 5 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 5 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 0 6</td>
<td>1.8</td>
<td>ahj ajh bmn bnm bvm </td>

</tr>


<tr>
<td>0 1 6</td>
<td>2.1</td>
<td>ahm ahn ajm ajn amn </td>

</tr>


<tr>
<td>0 2 6</td>
<td>2.4</td>
<td>ahu ahy aju ajy aki </td>

</tr>


<tr>
<td>0 3 6</td>
<td>2.7</td>
<td>aik amh amj anh anj </td>

</tr>


<tr>
<td>0 4 6</td>
<td>3</td>
<td>edm edn ehm ehn ejm </td>

</tr>


<tr>
<td>0 5 6</td>
<td>3.3</td>
<td>amu amy anu any azi </td>

</tr>


<tr>
<td>0 6 0</td>
<td>1.8</td>
<td>bhi bho bhp bji bjo </td>

</tr>


<tr>
<td>0 6 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 6 2</td>
<td>2.4</td>
<td>bku bky bli blu bly </td>

</tr>


<tr>
<td>0 6 3</td>
<td>2.7</td>
<td>bai bao bap bau bay </td>

</tr>


<tr>
<td>0 6 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 6 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 6 6</td>
<td>3.6</td>
<td>bfi bfo bfp bfu bfy </td>

</tr>


<tr>
<td>0 0 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 1 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 2 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 3 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 4 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 5 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 6 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 7 0</td>
<td>2.1</td>
<td>aem aen arm arn atm </td>

</tr>


<tr>
<td>0 7 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 7 2</td>
<td>2.7</td>
<td>aim ain aom aon apm </td>

</tr>


<tr>
<td>0 7 3</td>
<td>3</td>
<td>bem ben bqm bqn bwm </td>

</tr>


<tr>
<td>0 7 4</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 7 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>0 7 6</td>
<td>3.9</td>
<td>aqm aqn aum aun aym </td>

</tr>


<tr>
<td>0 7 7</td>
<td>-</td>
<td>-</td>

</tr>


</table>

</td>


<td valign=top>

<table cellpadding=0 cellspacing=0 style="font-size:100%;">
<tr> 
<th colspan=3><span class=math>p<sub>h</sub></span> = 1</td>
</tr>
<tr>
<th>triplet</td>
<th>path effort</th>
<th>example</th>
</tr>


<tr>
<td>1 0 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 0 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 1 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 1 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 0 2</td>
<td>1.6</td>
<td>ahd ahf ahg ahs ajd </td>

</tr>


<tr>
<td>1 1 2</td>
<td>1.9</td>
<td>ahb ahc ahv ahx ajb </td>

</tr>


<tr>
<td>1 2 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 2 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 2 2</td>
<td>2.2</td>
<td>ahe ahr aht ahw aie </td>

</tr>


<tr>
<td>1 0 3</td>
<td>1.9</td>
<td>bmc bmx bmz bnc bnx </td>

</tr>


<tr>
<td>1 1 3</td>
<td>2.2</td>
<td>dhx dhz djx djz dkx </td>

</tr>


<tr>
<td>1 2 3</td>
<td>2.5</td>
<td>bha bhd bhs bie biq </td>

</tr>


<tr>
<td>1 3 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 3 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 3 2</td>
<td>2.5</td>
<td>aid aif aig ais amd </td>

</tr>


<tr>
<td>1 3 3</td>
<td>2.8</td>
<td>bhc bhx bhz bjc bjx </td>

</tr>


<tr>
<td>1 0 4</td>
<td>2.2</td>
<td>aha aja aka ala bmb </td>

</tr>


<tr>
<td>1 1 4</td>
<td>2.5</td>
<td>ahz ajz akz alz amz </td>

</tr>


<tr>
<td>1 2 4</td>
<td>2.8</td>
<td>ahq aiq ajq akq alq </td>

</tr>


<tr>
<td>1 3 4</td>
<td>3.1</td>
<td>aia ama ana aoa apa </td>

</tr>


<tr>
<td>1 4 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 4 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 4 2</td>
<td>2.8</td>
<td>ehb ehv ejb ejv ekb </td>

</tr>


<tr>
<td>1 4 3</td>
<td>3.1</td>
<td>ehx ehz ejx ejz ekx </td>

</tr>


<tr>
<td>1 4 4</td>
<td>3.4</td>
<td>ehc ejc ekc elc qhz </td>

</tr>


<tr>
<td>1 0 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 1 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 2 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 3 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 4 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 5 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 5 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 5 2</td>
<td>3.1</td>
<td>ame amr amt amw ane </td>

</tr>


<tr>
<td>1 5 3</td>
<td>3.4</td>
<td>bia bid bis boa bod </td>

</tr>


<tr>
<td>1 5 4</td>
<td>3.7</td>
<td>amq anq bif big bof </td>

</tr>


<tr>
<td>1 5 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 0 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 1 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 2 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 3 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 4 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 5 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 6 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 6 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 6 2</td>
<td>3.4</td>
<td>chr cht cjr cjt ckr </td>

</tr>


<tr>
<td>1 6 3</td>
<td>3.7</td>
<td>bhe bhq bhw bje bjq </td>

</tr>


<tr>
<td>1 6 4</td>
<td>4</td>
<td>bhr bht bjr bjt bkr </td>

</tr>


<tr>
<td>1 6 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 6 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 0 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 1 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 2 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 3 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 4 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 5 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 6 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 7 0</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 7 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 7 2</td>
<td>3.7</td>
<td>aib aic aiv aix aob </td>

</tr>


<tr>
<td>1 7 3</td>
<td>4</td>
<td>bic bix biz boc box </td>

</tr>


<tr>
<td>1 7 4</td>
<td>4.3</td>
<td>aiz aoz apz auz ayz </td>

</tr>


<tr>
<td>1 7 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 7 6</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>1 7 7</td>
<td>-</td>
<td>-</td>

</tr>


</table>

</td>


<td valign=top>

<table cellpadding=0 cellspacing=0 style="font-size:100%;">
<tr> 
<th colspan=3><span class=math>p<sub>h</sub></span> = 2</td>
</tr>
<tr>
<th>triplet</td>
<th>path effort</th>
<th>example</th>
</tr>


<tr>
<td>2 0 0</td>
<td>2</td>
<td>adf adg asd asf asg </td>

</tr>


<tr>
<td>2 0 1</td>
<td>2.3</td>
<td>aad aaf aag aas add </td>

</tr>


<tr>
<td>2 1 0</td>
<td>2.3</td>
<td>acb acv adb adv asb </td>

</tr>


<tr>
<td>2 1 1</td>
<td>2.6</td>
<td>aab aac aav aax abb </td>

</tr>


<tr>
<td>2 0 2</td>
<td>2.6</td>
<td>ads afd afs agd ags </td>

</tr>


<tr>
<td>2 1 2</td>
<td>2.9</td>
<td>abc abx acx adx afc </td>

</tr>


<tr>
<td>2 2 0</td>
<td>2.6</td>
<td>adr adt aer aet ase </td>

</tr>


<tr>
<td>2 2 1</td>
<td>2.9</td>
<td>aae aar aat aaw aee </td>

</tr>


<tr>
<td>2 2 2</td>
<td>3.2</td>
<td>adw aew afe afw age </td>

</tr>


<tr>
<td>2 0 3</td>
<td>2.9</td>
<td>cbx cbz cvx cvz cxb </td>

</tr>


<tr>
<td>2 1 3</td>
<td>3.2</td>
<td>dab dav dbx dbz dfx </td>

</tr>


<tr>
<td>2 2 3</td>
<td>3.5</td>
<td>caf cag cba cbq cbs </td>

</tr>


<tr>
<td>2 3 0</td>
<td>2.9</td>
<td>acf acg aef aeg awd </td>

</tr>


<tr>
<td>2 3 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 3 2</td>
<td>3.5</td>
<td>abd abs acs aes ard </td>

</tr>


<tr>
<td>2 3 3</td>
<td>3.8</td>
<td>cab cav cfx cfz cgx </td>

</tr>


<tr>
<td>2 0 4</td>
<td>3.2</td>
<td>ada afa aga asa bcb </td>

</tr>


<tr>
<td>2 1 4</td>
<td>3.5</td>
<td>abz acz adz afz agz </td>

</tr>


<tr>
<td>2 2 4</td>
<td>3.8</td>
<td>adq aeq afq agq arq </td>

</tr>


<tr>
<td>2 3 4</td>
<td>4.1</td>
<td>aba aca aea ara ata </td>

</tr>


<tr>
<td>2 4 0</td>
<td>3.2</td>
<td>esz okm okn pkm pkn </td>

</tr>


<tr>
<td>2 4 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 4 2</td>
<td>3.8</td>
<td>eax qdx qfc qfx qgc </td>

</tr>


<tr>
<td>2 4 3</td>
<td>4.1</td>
<td>eab eav efx efz egx </td>

</tr>


<tr>
<td>2 4 4</td>
<td>4.4</td>
<td>eac efc egc esc qdz </td>

</tr>


<tr>
<td>2 0 5</td>
<td>3.5</td>
<td>bbv bvb bvv ffg fgf </td>

</tr>


<tr>
<td>2 1 5</td>
<td>3.8</td>
<td>aaz azz dcc ddc ecc </td>

</tr>


<tr>
<td>2 2 5</td>
<td>4.1</td>
<td>aaq aqq bbf bbg bbr </td>

</tr>


<tr>
<td>2 3 5</td>
<td>4.4</td>
<td>aqa aza bfb bgb cdc </td>

</tr>


<tr>
<td>2 4 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 5 0</td>
<td>3.5</td>
<td>acr act axe axr axt </td>

</tr>


<tr>
<td>2 5 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 5 2</td>
<td>4.1</td>
<td>abe abw acw ave avw </td>

</tr>


<tr>
<td>2 5 3</td>
<td>4.4</td>
<td>cqf cqg cra crs cta </td>

</tr>


<tr>
<td>2 5 4</td>
<td>4.7</td>
<td>abq acq avq axq bef </td>

</tr>


<tr>
<td>2 5 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 0 6</td>
<td>3.8</td>
<td>afg agf bvc bvx bvz </td>

</tr>


<tr>
<td>2 1 6</td>
<td>4.1</td>
<td>abv adc afb afv agb </td>

</tr>


<tr>
<td>2 2 6</td>
<td>4.4</td>
<td>ade afr aft agr agt </td>

</tr>


<tr>
<td>2 3 6</td>
<td>4.7</td>
<td>abf abg acd aed aqd </td>

</tr>


<tr>
<td>2 4 6</td>
<td>5</td>
<td>eaz edb edv edx edz </td>

</tr>


<tr>
<td>2 5 6</td>
<td>5.3</td>
<td>abr abt ace avr avt </td>

</tr>


<tr>
<td>2 6 0</td>
<td>3.8</td>
<td>bdq bdw bsq csq mko </td>

</tr>


<tr>
<td>2 6 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 6 2</td>
<td>4.4</td>
<td>bae baw bse caw mli </td>

</tr>


<tr>
<td>2 6 3</td>
<td>4.7</td>
<td>car cat cfq cfw cgq </td>

</tr>


<tr>
<td>2 6 4</td>
<td>5</td>
<td>bar bat bdr bdt bsr </td>

</tr>


<tr>
<td>2 6 5</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 6 6</td>
<td>5.6</td>
<td>baq bde bfe bfq bfw </td>

</tr>


<tr>
<td>2 0 7</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 1 7</td>
<td>4.4</td>
<td>fbv fgb fgv fvb gbv </td>

</tr>


<tr>
<td>2 2 7</td>
<td>4.7</td>
<td>bfg bgf brt btr bvf </td>

</tr>


<tr>
<td>2 3 7</td>
<td>5</td>
<td>bfv bgv fbg frg ftg </td>

</tr>


<tr>
<td>2 4 7</td>
<td>5.3</td>
<td>edc qaz rfb rfv rgb </td>

</tr>


<tr>
<td>2 5 7</td>
<td>5.6</td>
<td>azq brf brg btf btg </td>

</tr>


<tr>
<td>2 6 7</td>
<td>5.9</td>
<td>bfr bft bgr bgt cde </td>

</tr>


<tr>
<td>2 7 0</td>
<td>4.1</td>
<td>aeb aev awb awc awv </td>

</tr>


<tr>
<td>2 7 1</td>
<td>-</td>
<td>-</td>

</tr>


<tr>
<td>2 7 2</td>
<td>4.7</td>
<td>aex arc arx atc atx </td>

</tr>


<tr>
<td>2 7 3</td>
<td>5</td>
<td>cqb cqv crx crz ctx </td>

</tr>


<tr>
<td>2 7 4</td>
<td>5.3</td>
<td>aez arz atz awz beb </td>

</tr>


<tr>
<td>2 7 5</td>
<td>5.6</td>
<td>brb btb cec ece mum </td>

</tr>


<tr>
<td>2 7 6</td>
<td>5.9</td>
<td>aec aqb aqc aqv aqx </td>

</tr>


<tr>
<td>2 7 7</td>
<td>6.2</td>
<td>aqz brv btv dec ecd </td>

</tr>


</table>

</td>


</tr>
</table>

<p>As it is, these stroke efforts are very subjective. There are certain triads that I find particularly difficult to type. For example, I don't like upward row progressions (<span class=math>p<sub>r</sub></span> = 6) when the same hand and finger is used (<span class=math>p<sub>h</sub></span> = 2, <span class=math>p<sub>f</sub></span> = 7) . Triads such as bfr, cde and nhu are examples and have high stroke effort of 5.9.



<a name="typing_model_families"></a><h2>Families of Typing Models</h2>

<p>I applied different parameter sets to the layout optimization problem to examine the effect of model complexity. Values of baseline key stroke efforts based on finger travel distance, <span class=math>d<sub>i</sub></span>, are described in the <a href="index.html@typing_effort.html#baseline">figure above</a> and do not vary between model families. A list of parameter sets is found in the <a href="index.html@model_parameters.html">Carpax - Model Parameters</a> section.



<a name="typing_training_texts"></a><h2>Training Texts</h2>

<p>For optimizing English text, I use a corpus composed of the following

<ul>
<li>Alice in Wonderland, by Lewis Carroll
<li>Dracula, by Bram Stoker
<li>Great Expectations, by Charles Dickens
<li>Huckleberry Finn, by Mark Twain
<li>Moby Dick, by Herman Melville
<li>Picture of Dorian Grey, by Oscar Wilde
<li>Pride and Prejudice, by Jane Austen
<li>Sense and Sensibility, by Jane Austen
<li>The Adventures of Tom Sawyer, by Mark Twain
<li>The Adventures of Sherlock Holmes, by Sir Arthur Conan Doyle
<li>The Count of Monte Cristo, by Alexandre Dumas
<li>Ulysses, by James Joyce
<li>Walden, by Henry Thoreau
</ul>

<p>These books are freely available from <a href="http://www.gutenberg.org">Project Gutenberg</a>.

<p>Another source of corpora is the <a href="http://nltk.googlecode.com/svn/trunk/nltk_data/index.xml">Natural Language Toolkit Project</a>.




<br clear=both>
</div>



<div id="copyright">
Carpalx | keyboard layout optimizer | <a href="http://mkweb.bcgsc.ca/carpalx">home</a> | &copy; 2005-2014 <a href="mailto:martink@bcgsc.ca">Martin Krzywinski</a> | <a href="http://mkweb.bcgsc.ca">other projects</a>
</div>

</div>

</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10760878-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>


