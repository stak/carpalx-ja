<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="css/style2.css" type="text/css">
<meta name="keywords" content="keyboard, layout, typing, effort, qwerty, dvorak, colemak, arensito, capewell, best layout, worst layout, custom layout, simulated annealing, monte carlo, simulation">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Carpalx - keyboard layout optimizer</title>

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800|PT+Serif:400,400italic,700|Inconsolata:400,700">

</head>

<body>

<div id="body">

<div id="page">

<div id="masthead">
<a href="index.html"><img src="images/carpalx-logo-v3-crop.png" alt="carpalx - keyboard layout optimizer - save your carpals"></a>
</div>


<div id="leftpane">

<div id="slogan">



<p title="Carpalx optimizes keyboard layouts to create ones that require less effort and significantly reduced carpal strain!">Carpalx はキーボード配列を最適化することで労力を減らし、手の負担を激減させる配列を作るプロジェクトです！

<p><a href="full_optimization.html"><img src="images/carpalx-ourbest.png"></a>
<p><a href="worst_layout.html"><img src="images/carpalx-ourworst.png"></a>

<p title="Download keyboard layouts, or run the code yourself to explore new layouts."><img src="images/download.png" style="float:left; padding: 0 0.25em 0 0;"><a href="download.html">完成した配列をダウンロード</a>してもいいし、<a href="requirements.html">自分でこのコードを使って</a>新配列の探求へ挑むのもオツでしょう。

<p title="X11 layouts are available! Patches to include Carpalx layouts in xkeyboard-config and kbd have been submitted by Perry Thompson. Meanwhile, many thanks to Sven Hallberg for providing X11 configuration for Carpalx layouts. Richard Gomes contributed an archive of these files for KDE/Gnome users."><img src="images/x.png" style="float:left; padding: 0 0.25em 0 0;"><b>X11 用定義、あります！</b> Perry Thompson 氏が <a href="https://www.freedesktop.org/wiki/Software/XKeyboardConfig/">xkeyboard-config</a> と <a href="http://kbd-project.org/">kbd</a> に Carpalx の配列を含めるパッチを送ってくれました。また、<a href="http://www.khjk.org/log/2011/jan/carpalx.html">Carpalx の配列の X11 設定</a>を提供してくれた Sven Hallberg 氏に感謝。Richard Gomes 氏には KDE/Gnome ユーザ向けの<a href="http://mkweb.bcgsc.ca/carpalx/distribution/carpalx-x11.zip">アーカイブ</a>を提供頂きました。

<p title="Love your coworkers? Switch them to QWKRFY layout or a fully optimized QGMLWY layout."><img src="images/happy.png" style="float:left; padding: 0 0.25em 0 0;">好きな子には <a href="partial_optimization.html">QWKRFY 配列</a>か、ガチに最適化された <a href="full_optimization.html">QGMLWY 配列</a>を勧めちゃおう。

<p title="Hate your coworkers? Switch them to TNWMLC layout. It's the only keyboard layout that has its own fashion line."><img src="images/sad.png" style="float:left; padding: 0 0.25em 0 0;">逆にムカつく奴にゃ <a href="worst_layout.html">TNWMLC 配列</a>、これだね。<a href="http://fashionnotebook.wordpress.com/2011/01/04/julia-valle-tnwmlc/">ファッションになってる</a>唯一の配列だし。

<p title="Have ideas? Tell me.">なんかアイデアあったら<a href="mailto:martin.krzywinski@gmail.com">教えてくれよな</a>。<br><span style="color:green;font-size:90%">≪訳注：メールアドレスは原文著者のもの。連絡するなら英語でね。≫</span>

</div>

<div id="menu">


<h1>carpalx</h1>
<a href="index.html" title="home">ホーム</a>
<a href="about.html" title="about">概略</a>
<a href="typing_effort.html" title="typing effort">打鍵負担モデル</a>
<a class=current href="model_parameters.html" title="model parameters">モデルのパラメータ</a>
<a href="keyboard_evaluation.html" title="keyboard evaluation">配列の評価</a>
<a href="keyboard_layouts.html" title="keyboard layouts">実配列のデータ</a>
<h1 title="case studies">実例</h1>
<a href="qwerty.html">QWERTY</a>
<a href="dvorak.html">Dvorak</a>
<a href="colemak.html">Colemak</a>
<a href="popular_alternatives.html" title="Popular alternatives">その他</a>
<h1 title="optimization">最適化</h1>
<a href="partial_optimization.html" title="Partial optimization">部分最適化</a>
<a href="full_optimization.html" title="Full optimization">完全最適化</a>
<a href="worst_layout.html" title="Worst Layout">最悪の配列</a>
<a href="component_optimization.html" title="Component optimization">要素別最適化</a>
<a href="improving_colemak.html" title="Improving colemak">Colemak を超えていけ</a>
<a href="de_correspondent.html" title="De Correspondent">オランダ語に挑む</a>
<h1 title="tutorials">チュートリアル</h1>
<a href="simulated_annealing.html" title="simulated annealing">焼きなまし法 (SA)</a>
<a href="carpalx_installation.html" title="carpalx installation">Carpalx のインストール</a>
<a href="keyboard_statistics.html" title="keyboard statistics">配列の統計方法</a>
<a href="word_statistics.html" title="word statistics">ワードの統計方法</a>
<a href="basic_optimization.html" title="basic optimization">基本的な最適化</a>
<a href="concurrent_optimization.html" title="concurrent optimization">並行処理</a>
<a href="keyboard_images.html" title="keyboard images">配列画像の出力</a>
<a href="interpreting_optimization.html" title="interpreting optimization">結果の解釈</a>
<h1 title="documentation">ドキュメント</h1>
<a href="readme.html" title="README">README</a>
<a href="changes.html" title="CHANGES">変更履歴</a>
<a href="man_page.html" title="man page">man page</a>
<h1 title="download">ダウンロード</h1>
<a href="requirements.html" title="requirements">動作環境</a>
<a href="download.html" title="download">ダウンロード</a>
<h1 title="author">著者について</h1>
<a href="contact.html" title="contact">連絡先</a>
<a href="other_projects.html" title="other projects">他プロジェクト</a>
<a href="https://github.com/stak/carpalx-ja/#carpalx-ja" style="color:green;">日本語訳について</a>



</div>


<div id="footer" title="Carpalx is licensed under GPL. It is free, freely distributable and yours to modify under the auspices of the GPL license.">Carpalx は GPL のもとにライセンスされています。GPL に従う限りにおいて、無料で使用でき、自由に改変・再配布することができます。</div>


</div>
</div>

<div id="rightpane">




<div class=update>
<p title="16/aug/16 &mdash; Ergonomic Keyboard Layout Designed for the Filipino Language at AHFE2016 derives layout for Filipino language using Carpalx">2016/08/16 &mdash; Carpalx で作られた配列をもとにした<a href="http://link.springer.com/chapter/10.1007/978-3-319-41694-6_41">フィリピン語用のエルゴノミクスキーボード配列</a>が、国際学会 <a href="http://www.ahfe2016.org/program1.html">AHFE2016</a> で発表されました。
<p title="18/apr/16 &mdash; Carpalx layouts soon to appear in freedesktop (package xkeyboard-config) and kbd. Thanks to Perry Thompson.">2016/04/18 &mdash; Perry Thompson 氏のおかげで、Carpalx の配列が freedesktop (xkeyboard-config パッケージ) と kbd に含まれるようになります。
<p title="9/sep/14 &mdash; A new layout&mdash;De Correspondent&mdash;for the Dutch language in collaboration with De Correspondent.">2014/09/09 &mdash; <a href="https://decorrespondent.nl/en">De Correspondent 社</a>と共同で、オランダ語用の新しい配列 <a href="de_correspondent.html">De Correspondent</a> を作りました。
<p title="16/may/14 &mdash; Added evaluation of the Norman layout. This layout modifies 14/26 keys and has statistics similar to Colemak. Detailed statistics are available.">2014/05/16 &mdash; <a href="http://www.normanlayout.info">Norman 配列</a>の<a href="full_optimization.html">評価値</a>を追加しました。この配列は 26 キー中の 14 キーを入れ替えて Colemak 同等の統計的性能を持ちます。<a href="keyboard_layouts.html">詳細な統計データ</a>もあります。
<p title="12/feb/14 &mdash; Added evaluationof the abKey layout. Its alphabetic layout makes no attempt at ergonomics. Detailed statistics are available.">2014/02/12 &mdash; <a href="http://www.cnet.com.au/from-qwerty-to-abkey-240003768.htm">abKey 配列</a>の<a href="popular_alternatives.html">評価値</a>を追加しました。ただしエルゴノミクス的側面の評価を試みてはいません。<a href="keyboard_layouts.html">詳細な統計データ</a>もあります。
</div>


<h1>
Model Parameters
</h1>












































<div id="toc">
<p><b>ON THIS PAGE</b></p>
<ul>

<a href="model_parameters.html#typing_effort_parameters"><li>parameters</li></a>

<a href="model_parameters.html#typing_effort_penalty_weights"><li>penalty weight sets</li></a>

<a href="model_parameters.html#typing_effort_penalties"><li>penalties</li></a>

<a href="model_parameters.html#typing_effort_stroke_path"><li>stroke path</li></a>


</ul>
</div>




<p class=intro>A complete description of the typing model can be found
in <a href="typing_effort.html">Carpalx - Typing Effort</a> section. Here
I list parameter sets.



<a name="typing_effort_parameters"></a><h2>Parameters</h2>

<p>The typing effort model is parametrized by the following sets of parameters

<ul>
<li>effort component weights: <span class=math>k<sub>b</sub></span>, <span class=math>k<sub>p</sub></span>, <span class=math>k<sub>s</sub></span>
<li>triad interaction parameters: <span class=math>k<sub>1</sub></span>, <span class=math>k<sub>2</sub></span>, <span class=math>k<sub>3</sub></span>
<li>penalty weights: <span class=math>w<sub>0</sub></span>, <span class=math>w<sub>hand</sub></span>, <span class=math>w<sub>row</sub></span>, <span class=math>w<sub>finger</sub></span>
<li>penalties: <span class=math>P<sub>hand</sub></span>, <span class=math>P<sub>row</sub></span>, <span class=math>P<sub>finger</sub></span>
<li>stroke path weights: <span class=math>f<sub>row</sub></span>, <span class=math>f<sub>hand</sub></span>, <span class=math>f<sub>finger</sub></span>
</ul>

<img class="eq" src="images/effort-eq02.png">
<img class="eq" src="images/effort-eq02b.png">




<table cellspacing=0 cellpadding=0 style="font-size:100%;">
<tr>
<th>model name</th>
<th>description</th>
<th><span class=math>k<sub>b,p,s</sub></span></th>
<th><span class=math>k<sub>1,2,3</sub></span></th>
<th><span class=math>w<sub>0</sub></span>, <span class=math>w<sub>hand,row,finger</sub></span></th>
<th><span class=math>P</span></th>
<th><span class=math>f</span></th>
</tr>


<tr>

<td>mod_01
<a href="images/mod_01.png"><img src="images/keyboard.png"></a>
</td>
<td>balanced contributions</td>
<td>0.3555, 0.6423, 0.4268</td>
<td>1, 0.367, 0.235</td>
<td>
penalty_weight_01
<br>
0, 
1, 1.3088, 2.5948
</td>
<td>
penalty_01<br>
<span class=math>P<sub>hand</sub></span> = 0, 0
<br>
<span class=math>P<sub>row</sub></span> = 1.5, 0.5, 0, 1
<br>
<span class=math>P<sub>finger</sub></span> = 1, 0.5, 0, 0, 0, 0, 0.5, 1
<br>
</td>

<td>
path_01<br>
<span class=math>f<sub>hand</sub></span> = 1
<br>
<span class=math>f<sub>row</sub></span> = 0.3
<br>
<span class=math>f<sub>finger</sub></span> = 0.3
<br>
</td>

</tr>


</table>




<h3>parameter selection</h3>

<p>Since there are many parameters, there is opportunity to define
a variety of models, each with a focus on different aspects of typing. For
example, one model could have parameters that have no finger penalties
whereas another model might heavily penalize the pinky. 

<p>I used to have multiple parameter sets listed here, but found that
this added too much complexity to the description. Therefore, I will present a single set of parameters and use this set for all layout evaluation and simulation. This parameter set is called mod_01 (i.e. model 01).

<p>The penalty weights (<span
class=math>w<sub>hand</sub></span>, 
<span class=math>w<sub>row</sub></span>,
<span class=math>w<sub>finger</sub></span>), effort component weights (<span
class=math>k<sub>b</sub></span>, <span
class=math>k<sub>p</sub></span>, <span
class=math>k<sub>s</sub></span>) and triad interaction parameters
(<span class=math>k<sub>1</sub></span>, <span
class=math>k<sub>2</sub></span>, <span
class=math>k<sub>3</sub></span>) were selected so that the effort components for QWERTY had specific ratios. The ratios for the model for the base:penalty:stroke effort components is 1:1:1 (fairly easily justifiable &mdash; a balanced contribution) and the row and finger component of the penalty also has a ratio of 1:1.

<p>Specifically and first, the hand penalty weight <span class=math>w<sub>hand</sub></span> was set arbitrarily to 1 &mdash; this value is unimportant since there is no hand penalty (i.e. <span class=math>P<sub>hand=left</sub></span> = <span class=math>P<sub>hand=right</sub></span> = 0). The row penalty weight, <span class=math>w<sub>row</sub></span>, and finger penalty weight, <span class=math>w<sub>finger</sub></span>, were set so that the row- and finger-associated penalties were identical. This can be achieved with any number of parameter pairs (I don't immediately recall why I didn't make one of these 1). Next, the interaction parameters were set so that the ratio of efforts for

<span class=math>k<sub>1</sub></span>,<span class=math>k<sub>2</sub></span>=<span class=math>k<sub>3</sub></span>=0 : 
<span class=math>k<sub>1</sub></span>,<span class=math>k<sub>2</sub></span>,<span class=math>k<sub>3</sub></span>=0 : 
<span class=math>k<sub>1</sub></span>,<span class=math>k<sub>2</sub></span>,<span class=math>k<sub>3</sub></span>

was 60:30:10. <span class=math>k<sub>1</sub></span> was arbitrarily set to 1. In other words, the interaction between the second and first key in the triad contributed to 30% of the effort and the interaction between the third and the first two keys contributed 10%. Once these parameters were fixed, the component weights were adjusted so that the base, penalty and path efforts for QWERTY were all 1, making up a total effort of 3.

<p>To make the consequences of the parameter selection process concrete, below is the effort table for QWERTY. Notice that the effort contributions from base, penalty and path are equal. Furthermore, the row and finger components of the penalty are also equal (these penalty components do not mix linearly, and therefore the total penalty is larger than the sum of the components).



<table cellspacing=0 cellpadding=0>
<tr>
<th colspan=6>QWERTY typing effort - english corpus</th>
</tr>
<tr>
<th rowspan=2>model</th>
<th rowspan=2>keyboard</th>
<th rowspan=2>total effort<span class=annot>rel%</span></th>
<th colspan=3>effort contributions<span class=annot>rel%</span></th>
</th>
</tr>
<tr>
<th>base</th>
<th>penalties</th>
<th>path</th>
</tr>




<tr>
<td rowspan=1><a href="model_parameters.html">mod_01</a></th>



<td>qwerty</td>
<td>
3.000 
<br>
<img src="images/dot-grey.png" height=5 vspace=2 width=112.5
<br><br>
<img src="images/dot-lgrey.png" height=10 width=33.3333333333333 ><img src="images/dot-blue.png" height=10 width=33.3333333333333 ><img src="images/dot-orange.png" height=10 width=33.3333333333333 ></td>
<td>
1.000<span class=annot>33.3</span>
<br>
<img src="images/dot-lgrey.png" height=10 width=75>
</td>
<td>
1.000<span class=annot>33.3</span>
<br>
<span class=small><span class=grey>R</span>0.408
<br>
<span class=grey>F</span>0.408
<br>
<img src="images/dot-blue.png" height=10 width=75>
</td>
<td>
1.000<span class=annot>33.3</span>
<br>
<img src="images/dot-orange.png" height=10 width=75>
<br>
</td>
</tr>



<tr><td colspan=6 style="margin:0;padding:0;border-bottom:1px solid #bbb;"><img src="images/dot-t.png" width=1 height=1></td></tr>


</table>




<h2>Penalty Weight Sets</h2>

<p>The penalty weights are the <span class=math>w<sub>0,hand,row,finger</sub></span> parameters in the equation for key effort.

<img class="eq" src="images/effort-eq02c.png">

<p>These weights adjust contribution of baseline, hand, row and finger penalties.




<table cellspacing=0 cellpadding=0 style="font-size:100%;">
<tr>
<th>penalty weight name</th>
<th>description</th>
<th><span class=math>w<sub>0</sub></span></th>
<th><span class=math>w<sub>hand</sub></span></th>
<th><span class=math>w<sub>row</sub></span></th>
<th><span class=math>w<sub>finger</sub></span></th>
</tr>


<tr>

<td>penalty_weight_01</td>
<td>default penalty weight</td>
<td>0</td>
<td>1</td>
<td>1.3088</td>
<td>2.5948</td>
</tr>


</table>




<p>As described above, the penalty weights were set to balance row and finger contributions. The hand penalty weight value is arbitrary, since no hand penalties are incurred in this parameter set (the hand penalty values were set to 0, so as not to penalize either hand). The row penalties are subjective, and I set them to 1.5 for the digit row, 0.5 for the top row, 0 for the home row and 1 for the bottom row. I consider the bottom row to be less accessible than the top row. Finger penalties were levied at the ring finger, with a value of 0.5, and the pinky, with a value of 1. I consider the pinky to be quite weak (here some may argue that this pinky penalty, which is 2x the ring finger penalty, is too high) and intuitively prefer layouts that lay off the pinky, so to speak.

<h2>Penalty Sets</h2>

<p>The penalty values are <span class=math>P<sub>hand,row,finger</sub></span> parameters in the equation for key effort.

<img class="eq" src="images/effort-eq02c.png">

<p>These values map the value of hand (L,R), row (number, top, home, bottom) and finger (index, middle, ring, index) onto a penalty. A given model will weight each penalty value using the penalty weight parameters.




<table cellspacing=0 cellpadding=0 style="font-size:100%;">

<tr>
<th>penalty name</th>
<th>description</th>
<th><span class=math>P<sub>hand</sub></span></th>
<th><span class=math>P<sub>row</sub></span></th>
<th><span class=math>P<sub>finger</sub></span></th>
</tr>


<tr>

<td>penalty_01</td>
<td>default penalties</td>
<td valign=top>

<table cellspacing=0 cellpadding=0 class=nested>
<tr>
<th>hand</th>
<th><span class="math">q<sub>h</sub></span></th>
</tr>
<tr>
<td>L</td>
<td>0
</tr>
<tr>
<td>R</td>
<td>0
</tr>
</table>

</td>

<td valign=top>
<table cellspacing=0 cellpadding=0 class=nested>
<tr>
<th>row</th>
<th><span class="math">q<sub>h</sub></span></th>
</tr>
<tr>
<td>number</td>
<td>1.5
</tr>
<tr>
<td>top</td>
<td>0.5
</tr>
<tr>
<td>home</td>
<td>0
</tr>
<tr>
<td>bottom</td>
<td>1
</tr>

</table>
</td>

<td valign=top>
<table cellspacing=0 cellpadding=0 class=nested>
<tr>
<th>finger</th>
<th><span class=math>h</span>, <span class="math">q<sub>f</sub></span></th>
</tr>
<tr>
<td>index</td>
<td> L 0 R 0
</tr>
<tr>
<td>middle</td>
<td> L 0 R 0
</tr>
<tr>
<td>ring</td>
<td> L 0.5 R 0.5
</tr>
<tr>
<td>pinky</td>
<td> L 1 R 1
</tr>

</table>
</td>


</tr>


</table>




<h2>Stroke Path Sets</h2>

<p>The stroke path effort, <span class=math>s<sub>i</sub></span>, is determined based on the hand, row and finger stroke pattern categories <span class=math>p<sub>r,h,f</sub></span>. Stroke path effort is computed by summing efforts associated with each category.

<img class="eq" src="images/effort-eq04.png">

<p>Each triad is assigned a distinct hand, row and finger stroke category based on the layout of the triad keys. For example, row category 1 (<span class=math>p<sub>r</sub></span> = 1) is associated with a downward row progression with repetition (e.g. rows=top, top, home) for example.

<p>The balanced stroke path (path_01) yield approximately equal hand, row and finger contributions to the stroke path over the English corpus.




<table cellspacing=0 cellpadding=0 style="font-size:100%;">
<tr>
<th>stroke path name</th>
<th>description</th>
<th><span class=math>f<sub>hand</sub></span></th>
<th><span class=math>f<sub>row</sub></span></th>
<th><span class=math>f<sub>finger</sub></span></th>
</tr>


<tr>

<td>path_01</td>
<td>balanced stroke path</td>

<td valign=top>
1
</td>
<td valign=top>
0.3
</td>
<td valign=top>
0.3
</td>


</tr>

</table>







<br clear=both>
</div>



<div id="copyright">
Carpalx | keyboard layout optimizer | <a href="http://mkweb.bcgsc.ca/carpalx">ホーム</a> | &copy; 2005-2014 <a href="mailto:martink@bcgsc.ca">Martin Krzywinski</a> | <a href="http://mkweb.bcgsc.ca">他のプロジェクト</a>
</div>

</div>

</div>

<!-- script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script -->
<!-- script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10760878-1");
pageTracker._trackPageview();
} catch(err) {}</script -->
<a href="https://github.com/stak/carpalx-ja"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>

</body>
</html>


